const allData = [
    {
        title: 'Monogram',
        type: 'svg',
        items: [
            { name: "Asset 2", type: "svg", size: "", direction: "up", },
            { name: "Asset 3", type: "svg", size: "", direction: "up", },
            { name: "Asset 4", type: "svg", size: "", direction: "up", },
            { name: "Asset 5", type: "svg", size: "", direction: "up", },
            { name: "Asset 6", type: "svg", size: "", direction: "up", },
            { name: "Asset 7", type: "svg", size: "", direction: "up", },
            { name: "Asset 8", type: "svg", size: "", direction: "up", },
            { name: "Asset 9", type: "svg", size: "", direction: "up", },
            { name: "Asset 10", type: "svg", size: "", direction: "up", },
            { name: "Asset 11", type: "svg", size: "", direction: "up", },
            { name: "Asset 12", type: "svg", size: "", direction: "up", },
            { name: "Asset 13", type: "svg", size: "", direction: "up", },
            { name: "Asset 24", type: "svg", size: "", direction: "up", },
        ]
    },
    {
        title: 'Renders',
        type: 'img',
        items: [
            { name: "Mushroom_03", type: "img", size: "onexone", direction: "left", animdelay: false, },
            { name: "SnapParticleSim", type: "video", size: "onexone", direction: "left", animdelay: true, },
            
            { name: "Metropolis1927", type: "img", size: "onexone", direction: "right", animdelay: false, },

            { name: "KimKitsuragi_2", type: "img", size: "row2", direction: "left", animdelay: false, },
            { name: "SanjiLighter_Lit", type: "img", size: "row2", direction: "left", animdelay: false, },
            { name: "BladerunnerPoolRoom", type: "img", size: "column2", direction: "right", animdelay: false, },

            { name: "BassGuitar", type: "img", size: "column2", direction: "right", animdelay: false, },
            { name: "Guitar_Painterly", type: "img", size: "column2", direction: "right", animdelay: false, },
            { name: "Speaker_01", type: "img", size: "column2", direction: "left", animdelay: false, },

            { name: "RibbonBackground_4k", type: "img", size: "column2", direction: "right", animdelay: false, },
            { name: "Sci-Fi_Futurism_Art", type: "img", size: "row2", direction: "left", animdelay: false, },
            { name: "PhoneLightStreaksASUS", type: "img", size: "column2", direction: "up", animdelay: false, },
            
            { name: "Cordyceps", type: "img", size: "onexone", direction: "left", animdelay: false, },
            { name: "Renault_Alpine_A310_StylizedV2", type: "img", size: "column2", direction: "up", animdelay: false, },
            { name: "Robots_BaW", type: "img", size: "column2", direction: "up", animdelay: false, },

            { name: "OppenheimerThumbnail02", type: "img", size: "column2", direction: "left", animdelay: false, },
            { name: "OppenheimerThumbnail01", type: "img", size: "column2", direction: "right", animdelay: false, },
            { name: "OppenheimerThumbnail04", type: "img", size: "column2", direction: "left", animdelay: false, },
            { name: "OppenheimerThumbnail03", type: "img", size: "column2", direction: "right", animdelay: false, },
            
            { name: "Liminal_01COMPOSITE", type: "img", size: "column2", direction: "left", animdelay: false, },
            { name: "Pikuniku", type: "img", size: "column2", direction: "right", animdelay: false, },
            { name: "Pancakes_03", type: "img", size: "column2", direction: "left", animdelay: false, },

            { name: "DRGWeapons (Small)", type: "img", size: "column2", direction: "right", animdelay: false, },
            { name: "DesertScene_1 (Small)", type: "img", size: "column2", direction: "left", animdelay: false, },
            { name: "BuildingsInFog_PAINTED-_Small_", type: "img", size: "column2", direction: "right", animdelay: false, },

            { name: "CasseteTape", type: "video", size: "onexone", direction: "right", animdelay: true, },

            { name: "Typewriter_2 (Small)", type: "img", size: "onexone", direction: "right", animdelay: false, },

            { name: "InsideJob", type: "video", size: "onexone", direction: "left", },
            { name: "LilRobotVideo", type: "video", size: "onexone", direction: "left", animdelay: true, },
            { name: "Triangle", type: "video", size: "onexone", direction: "right", animdelay: true, },
            { name: "Alien_1 (Small)", type: "img", size: "row2", direction: "right", },
            { name: "WavesCompressed", type: "video", size: "column2", direction: "left", },

            { name: "CircuitPuzzleThing_02 (Small)", type: "img", size: "onexone", direction: "right", animdelay: true, },
            { name: "Astronomy (Small)", type: "img", size: "column2", direction: "left", },

            { name: "GoatSkull", type: "img", size: "onexone", direction: "right", class: "pixelated", animdelay: true, },
            { name: "ColosseumPixel_2", type: "img", size: "onexone", direction: "right", class: "pixelated", },
            { name: "City_01.4", type: "img", size: "onexone", direction: "left", class: "pixelated", },
            { name: "City_02.1", type: "img", size: "onexone", direction: "left", class: "pixelated", animdelay: true, },

            { name: "CultOfTheLamb (Small)", type: "img", size: "onexone", direction: "right", animdelay: true, },
            { name: "FloatingIslands (Small)", type: "img", size: "onexone", direction: "right", },
            { name: "Blueprint (Small)", type: "img", size: "onexone", direction: "left", },

            { name: "CatPlanet (Small)", type: "img", size: "onexone", direction: "left", animdelay: true, },
            { name: "CatLavaLamp_Sketch (Small)", type: "img", size: "onexone", direction: "right", animdelay: true, },
            { name: "CatFlame_Sketch (Small)", type: "img", size: "onexone", direction: "right", },

            { name: "TreasureGlare (Small)", type: "img", size: "column2", direction: "left", },
            { name: "bridgething(Small)", type: "img", size: "column2", direction: "right", },
            { name: "DavidPaint2(Small)", type: "img", size: "row2", direction: "left", },
            { name: "glasstest(Small)", type: "img", size: "column2", direction: "up", },
            { name: "Ship_lines_crop", type: "img", size: "column2", direction: "up", },
            { name: "viking_scene_snow_cycles(Small)", type: "img", size: "column2", direction: "left", },
        ]
    },
    {
        title: 'Others',
        type: 'img',
        items: [
            { name: "EP-133 K.O. II_Collection01", type: "img", size: "row2", direction: "left", animdelay: false, },
            { name: "EP-133 K.O. II_Collection03", type: "img", size: "row2", direction: "left", animdelay: false, },
            { name: "EP-133 K.O. II_Collection04", type: "img", size: "row2", direction: "left", animdelay: false, },
            { name: "EP-133 K.O. II_Collection05", type: "img", size: "row2", direction: "left", animdelay: false, },
            
            { name: "OP-1_field_Collection04", type: "img", size: "row2", direction: "left", animdelay: false, },
            { name: "OP-1_field_Collection03", type: "img", size: "row2", direction: "left", animdelay: false, },
            { name: "OP-1_field_Collection02", type: "img", size: "row2", direction: "left", animdelay: false, },
            { name: "OP-1_field_Collection01", type: "img", size: "row2", direction: "left", animdelay: false, },

            { name: "FinalMockupsCollage (Small)", type: "img", size: "column2", direction: "up", },
            { name: "Yeah01", type: "img", size: "onexone", direction: "up", },
            { name: "Dunes", type: "img", size: "onexone", direction: "up", },
            { name: "Neon_Nikolai", type: "img", size: "onexone", direction: "up", },
            { name: "EyesStuff", type: "img", size: "onexone", direction: "up", },
            { name: "cube", type: "gif", size: "onexone", direction: "up", },
            { name: "BEEFREE (Small)", type: "img", size: "onexone", direction: "up", },
        ]
    },

]


const body = document.getElementById('mainbodyforcards')
const tabcont = document.getElementById('tab-cont')
allData.forEach(element => {
    const tabbutton = document.createElement('button')
    tabbutton.classList.add('tab-button')
    tabbutton.appendChild(document.createTextNode(element.title))
    tabcont.appendChild(tabbutton)
})

const addImageGroups = (index) => {
    const element = allData[index]
    // const innerbody = document.createElement('div')
    // innerbody.classList.add('innerbody')
    // body.appendChild(innerbody)

    const title = document.createElement('div')
    title.classList.add('title')
    title.appendChild(document.createTextNode(element.title))
    // innerbody.appendChild(title)
    body.appendChild(title)


    const cont = document.createElement('div')
    switch (element.type) {
        case 'svg':
            cont.classList.add('svg-cont')
            break;
        case 'img':
            cont.classList.add('img-cont')
            break;
        default:
            console.log('You done messed up: Type')
            break;
    }
    // innerbody.appendChild(cont)
    body.appendChild(cont)

    element.items.forEach(element => {
        const anim = document.createElement('div')
        anim.classList.add('anim')
        
        if (element.size) { anim.classList.add(element.size) }
        if (element.class) { anim.classList.add(element.class) }
        
        const image = document.createElement('img')
        switch (element.type) {
            case 'svg':
                anim.innerHTML = `<img src="/home/img/GraphicsDesign/${element.name}.svg" onload="SVGInject(this,{makeIdsUnique:false,useCache:false})">`
                break;
            case 'img':
                image.src = "/home/img/GraphicsDesign/" + element.name + ".png"
                anim.appendChild(image)
                break;
            case 'gif':
                image.src = "/home/img/GraphicsDesign/" + element.name + ".gif"
                anim.appendChild(image)
                break;
            case 'video':
                const video = document.createElement('video')
                video.autoplay = true
                video.muted = true
                video.loop = true
                video.playsinline = true
                video.controlslist = "nofullscreen nodownload noremoteplayback noplaybackrate foobar"
                anim.appendChild(video)
                const sourceWEBM = document.createElement('source')
                sourceWEBM.src = './home/img/GraphicsDesign/' + element.name + '.webm'
                sourceWEBM.type = 'video/webm'
                const sourceMP4 = document.createElement('source')
                sourceMP4.src = './home/img/GraphicsDesign/' + element.name + '.mp4'
                sourceMP4.type = 'video/mp4'
                video.appendChild(sourceWEBM)
                video.appendChild(sourceMP4)
                break;
            default:
                break;
        }
        cont.appendChild(anim)
        let direction = "left";
        if (anim.getBoundingClientRect().left > document.body.clientWidth/2){
            direction = "right";
        }
        if (anim.getBoundingClientRect().left < document.body.clientWidth/2 && anim.getBoundingClientRect().right > document.body.clientWidth/2){
            direction = "up";
        }
        anim.classList.add('anim-' + direction)
        if (anim.getBoundingClientRect().left > document.body.clientWidth/1.9 || anim.getBoundingClientRect().right < document.body.clientWidth/2.1){
            anim.classList.add('anim-delay')
        }      
    })

}

const buttons = document.querySelectorAll(".tab-button")
let latestPage = localStorage.getItem('graphicsdesignTab') ?? 0

const buttonClick = (index, target) => { 
    buttons.forEach(element =>{
        element.classList.remove('active')
    })
    target.classList.add('active')
    if(latestPage != index){
        while(body.hasChildNodes()){
        body.removeChild(body.firstChild)
        };
        addImageGroups(index) 
    }
    latestPage = index
    localStorage.setItem('graphicsdesignTab', index)
}

buttons.forEach((element, index) => {
    element.addEventListener('click', ()  => {
        buttonClick(index, event.target)
        animate()
    })
})
buttons[latestPage].classList.add('active')
